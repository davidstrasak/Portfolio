import{a as g,t as v}from"../chunks/DayaP67k.js";import{m as o,l as n,t as G,o as K,k as t,n as _}from"../chunks/yiv2dWuE.js";import{s as L}from"../chunks/DbMAfIuP.js";import{e as C,i as R}from"../chunks/N1_-JbGI.js";import{p as F}from"../chunks/Bx16bHEM.js";var M=v('<pre data-prefix="$"><code> </code></pre>'),P=v('<div class="mockup-code text-info"></div>');function e(p,r){let d=F(r,"code",8);var a=P();C(a,5,d,R,(l,h)=>{var s=M(),i=n(s),c=n(i);o(i),o(s),G(()=>L(c,K(h))),g(l,s)}),o(a),g(p,a)}var B=v(`<div><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz1RzTzQFA_9h3qbValKOs0mjsATDkHwMOTA&amp;s" class="float-right rounded-xl m-4" alt="SvelteKit logo"> <h1 class="text-4xl mb-6 font-bold text-secondary">Publish a static SvelteKit app to a custom domain on GitHub pages</h1> <p>As you might see, I've recently published a static SvelteKit website (this website).</p> <p>Which is why I've decided to make this blog post - <span>to document all the steps that you can take in order to have a nice little static SvelteKit
			website</span>.</p> <p>For this tutorial you will need <span>Node.js and npm</span>. You will also need a GitHub
		account, for the GitHub pages hosting service. <span>You can host this static website for free over there</span>.</p> <br> <h2 class="text-secondary mt-4 text-3xl">But first for the unitiated: What is SvelteKit?</h2> <p>It's a web building framework. It allows you to follow a structure to have websites that are
		reactive.</p> <p>I personally love SvelteKit, because it is intuitive and it does not require a lot of hoops to
		jump through. Things just make sense!</p> <br> <h2 class="text-secondary mt-4 text-3xl">Alright. How to do it?</h2> <p>First of all we'll need to initialise a SvelteKit project. That can be done through <span>Node.js and npm</span>. First you will need to <span>use Vite to create a project with some name</span>. Then change
		directory there and run npm install and npm run dev. <span>That will start a server that you can see inside your browser.</span></p> <!> <br> <h2 class="text-secondary mt-4 text-3xl">Now install the static adaper for SvelteKit</h2> <p>That can be done easily by using npm again.</p> <!> <p>This package allows you to translate SvelteKit syntax to normal HTML, JS and CSS, which let's
		you host this SvelteKit website on GitHub pages.</p> <br> <h2 class="text-secondary mt-4 text-3xl">Now add it to svelte.config.js</h2> <p>Just add the extra lines into the default <span>svelte.config.js.</span></p> <!> <p>Yay! Now you have a static website.</p> <br> <h2 class="text-secondary mt-4 text-3xl">Setting the base URL</h2> <p>Now that you have a static website, you can host it on GitHub pages. <span>But beware</span>,
		GitHub pages multi page websites do not work as the normal ones.</p> <p>Instead you will need to set a start of the URL that is the <span>same as your GitHub repository name.</span></p> <p>For example the default URL of this portfolio is <span>davidstrasak.github.io/Porfolio</span>.
		"/Portfolio" is something I had to set into a variable and use in every anchor tag on this
		website.</p> <p>This is <span>how you set the svelte.config.js</span></p> <!> <p>And this is how you use the <span></span> in every anchor tag.</p> <!> <br> <h2 class="text-secondary mt-4 text-3xl">Final step to make this site hosteable:</h2> <p>Just add a <span>.nojekyll</span>file into the static folder of your project.</p> <p>This file tells GitHub pages to not try to generate a static site from this repository. Because
		generating is handled by us.</p> <br> <h2 class="text-secondary mt-4 text-3xl"><span class="text-accent">Life hack 1:</span>Hosting on GitHub pages automatically</h2> <p>The page that we have now would have to be manually built (translated from svelte to HTML, JS
		and CSS) and uploaded to github pages.</p> <p>But that's unneccesary work!</p> <p>Instead let's use the "gh-pages" package to upload our built file onto github pages and set up
		the hosting for us.</p> <p>First install the package.</p> <!> <p>Now add these scripts into your <span>package.json</span> file.</p> <!> <p>So now you can call these scripts through typing "npm run deploy".</p> <!> <br> <p>Or if you want to <span>add to git, push to a remote github repository, build the website AND host on github pages</span>, this is the code I run when I update my site.</p> <!> <p>The positive is that you need to <span>write only one line - "npm run git" to do all the things</span> I would want to do every time. That's like <span>saving three lines of code every time</span>!</p> <br> <h2 class="text-secondary mt-4 text-3xl"><span class="text-accent">Life hack 2:</span>Add this site to a custom domain</h2> <p>My website's domain is not <span>davidstrasak.github.io/Porfolio</span>, but rather <span>davidstrasak.net</span>.</p> <p>I do not want to go into all the topics that go through adding a custom domain to a page hosted
		on GitHub pages, but I want to show <span>how can you automatically add the custom domain when using gh-pages</span>.</p> <p>You see, if you try to use gh-pages with a custom domain, your custom domain will be reset at
		every upload of the server.</p> <p>That is because the custom domain is stored inside a file in the build folder. <span>This file is called CNAME</span>.</p> <p>So I figured out that if I create this CNAME file inside the build folder every time after
		building the page, the custom URL will be set automatically. <span>That can be done through this line</span>.</p> <!> <p>This code is all you'll need to automate that last annoying step of adding the custom URL of the
		website into GitHub pages.</p> <br> <h2 class="text-secondary mt-4 text-3xl">If you've read this so far, you can now go and create a website that you can call your own!
		Design it how you want and use all the svelte frameworks you can find!</h2> <p class="mb-40">Because what could go wrong?</p></div>`);function O(p){const r=["npx create-vite@latest my-sveltekit-project","cd my-sveltekit-project","npm install","npm run dev"],d=["npm i -D @sveltejs/adapter-static"],a=["import adapter from '@sveltejs/adapter-static';","import { vitePreprocess } from '@sveltejs/kit/vite';","/** @type {import('@sveltejs/kit').Config} */","const config = {","   kit: {","      appDir: 'app', // Required as the default is _app","     adapter: adapter()","},","    preprocess: vitePreprocess()","};","export default config;"],l=["kit: {","adapter: adapter(),","paths: {","	base: process.env.NODE_ENV === `production` ? `/Portfolio` : ``","}","}"],h=["//Add this only once in the <script>","import { base } from `$app/paths`;","","//add this into every anchor tag","<a href={`${base}/blog`}> Blog </a>"],s=["npm i gh-pages --save-dev"],i=["`scripts`: {","`predeploy`: `npm run build`,","`deploy`: `gh-pages -d build`,","}"],c=["npm run deploy"],H=["`scripts`: {","`git`:`git add . && git commit && git push origin main && npm run host`","`host`: `npm run predeploy && npx gh-pages -d build -t true`,","`dev`: `vite dev`,","`build`: `vite build`,","`predeploy`: `npm run build`,","}"],I=["`build`: `vite build && echo davidstrasak.net > build/CNAME`,"];var u=B(),b=t(n(u),24);e(b,{code:r});var y=t(b,8);e(y,{code:d});var f=t(y,10);e(f,{code:a});var w=t(f,16);e(w,{code:l});var m=t(w,2),N=t(n(m));N.textContent="{base}",_(),o(m);var x=t(m,2);e(x,{code:h});var k=t(x,22);e(k,{code:s});var T=t(k,4);e(T,{code:i});var j=t(T,4);e(j,{code:c});var S=t(j,6);e(S,{code:H});var A=t(S,18);e(A,{code:I}),_(8),o(u),g(p,u)}export{O as component};
